
##### ä¹¦æœ¬ç±»å‹ï¼šç”µå­ä¹¦
##### ä¹¦æœ¬é“¾æ¥ï¼šhttps://zh.javascript.info

##### è¿›åŒ–å²ï¼š

LiveScript ->JavaScript and ECMAScriptè§„èŒƒ

##### æµè§ˆå™¨ä¸­çš„JavaScriptèƒ½åšä»€ä¹ˆï¼Ÿ

- åœ¨ç½‘é¡µä¸­æ·»åŠ æ–°çš„ HTMLï¼Œä¿®æ”¹ç½‘é¡µå·²æœ‰å†…å®¹å’Œç½‘é¡µçš„æ ·å¼ã€‚
- å“åº”ç”¨æˆ·çš„è¡Œä¸ºï¼Œå“åº”é¼ æ ‡çš„ç‚¹å‡»ï¼ŒæŒ‡é’ˆçš„ç§»åŠ¨ï¼ŒæŒ‰é”®çš„æŒ‰åŠ¨ã€‚
- å‘è¿œç¨‹æœåŠ¡å™¨å‘é€ç½‘ç»œè¯·æ±‚ï¼Œä¸‹è½½å’Œä¸Šä¼ æ–‡ä»¶ï¼ˆæ‰€è°“çš„ [AJAX](https://en.wikipedia.org/wiki/Ajax_(programming)) å’Œ [COMET](https://en.wikipedia.org/wiki/Comet_(programming)) æŠ€æœ¯ï¼‰ã€‚
- è·å–æˆ–è®¾ç½® cookieï¼Œå‘è®¿é—®è€…æå‡ºé—®é¢˜æˆ–å‘é€æ¶ˆæ¯ã€‚
- è®°ä½å®¢æˆ·ç«¯çš„æ•°æ®ï¼ˆâ€œæœ¬åœ°å­˜å‚¨â€ï¼‰ã€‚

##### æµè§ˆå™¨ä¸­çš„JavaScriptä¸èƒ½åšä»€ä¹ˆï¼Ÿ

- jsä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿ
- ç»Ÿä¸€æµè§ˆå™¨çš„æ ‡ç­¾é¡µã€çª—å£ä¹‹é—´é€šå¸¸æ˜¯æ²¡æœ‰è”ç³»çš„ï¼ˆåŒæºç­–ç•¥ï¼‰
- jså¯ä»¥é€šè¿‡äº’è”ç½‘ä¸å½“å‰é¡µé¢æ‰€åœ¨çš„æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯ä»å…¶ä»–ç½‘ç«™/åŸŸçš„æœåŠ¡å™¨ä¸­æ¥å—æ•°æ®çš„èƒ½åŠ›è¢«å‰Šå¼±äº†ã€‚ï¼ˆéœ€è¦å“åº”å¤´é‡Œé¢æœ‰æ˜ç¡®çš„åè®®å»å…è®¸ï¼‰

##### ä»£ç è´¨é‡ï¼š

###### 1.åˆ†æ”¯ç»“æ„ï¼š

![image-20220705155030568](https://github.com/yinhongGITHUB/ReadingNotes/blob/main/images/ModernJSTutorial/image-20220705155030568.png)

###### 2.è¡Œçš„é•¿åº¦ï¼š

ä¸€è¡Œå°½é‡ä¸è¦è¶…è¿‡ä¸€ä¸ªå±å¹•ã€‚å®åœ¨å¤ªé•¿çš„è¯ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ã€‚

```js
// å›å‹¾å¼•å· ` å…è®¸å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå¤šè¡Œ
let str = `
  ECMA International's TC39 is a group of JavaScript developers,
  implementers, academics, and more, collaborating with the community
  to maintain and evolve the definition of JavaScript.
`
```

###### 3.ç¼©è¿›

æ°´å¹³æ–¹å‘ï¼š2æˆ–4ä¸ªç©ºæ ¼ï¼ˆä¸»è¦æ˜¯ä»£ç å¯¹é½ï¼‰

å‚ç›´æ–¹å‘ï¼šå…¶å®å°±æ˜¯åœ¨å„ä¸ªé€»è¾‘å—ä¹‹é—´ï¼Œç•™ä¸€è¡Œç©ºè¡Œä¾‹å¦‚ï¼š

```js
function pow(x, n) {
  let result = 1;
  // ä¸‹é¢å°±æ˜¯å‚ç›´æ–¹å‘çš„ç¼©è¿›ï¼Œä¾¿äºæå‡ä»£ç å¯è¯»æ€§
  //              <--
  for (let i = 0; i < n; i++) {
    result *= x;
  }
    
  //              <--
  return result;
}
```

###### 4.åˆ†å·ï¼š

jsè™½ç„¶ä¸å¼ºåˆ¶æ¯ä¸€è¡Œåç»­å¿…é¡»æœ‰åˆ†å·ï¼Œä½†æ˜¯ï¼Œåœ¨JavaScriptä¸­ï¼Œæå°‘æ•°æƒ…å†µä¸‹ï¼Œæ¢è¡Œç¬¦åˆæ˜¯ä¸ä¼šè¢«è§£é‡Šä¸ºåˆ†å·ï¼Œè¿™ç§ä»£ç å°±å®¹æ˜“å‡ºé”™ã€‚

##### æ±‚å¹‚

```js
alert( 2 ** 2 ); // 2Â² = 4
alert( 2 ** 3 ); // 2Â³ = 8
alert( 2 ** 4 ); // 2â´ = 16
```

##### prompt ç”¨æ³•

å¼¹å‡ºä¸€ä¸ªå¯è¾“å…¥çš„å¯¹è¯æ¡†,

```js
result = window.prompt(text, value);
// text è¡¨ç¤ºæç¤ºä¿¡æ¯
// value æ–‡æœ¬è¾“å…¥æ¡†çš„é»˜è®¤å€¼
// result ç”¨æˆ·åœ¨æ–‡æœ¬è¾“å…¥æ¡†è¾“å…¥çš„æœ€ç»ˆå€¼
var sign = prompt("ä½ æ˜¯ä»€ä¹ˆæ˜Ÿåº§çš„ï¼Ÿ");
if (sign == "å¤©èåº§"){
   alert("å“‡ï¼æˆ‘ä¹Ÿæ˜¯å¤©èåº§çš„è€¶ï¼");
}
```

##### æ³¨é‡Š

å°½é‡é‡‡ç”¨jsDocçš„æ³¨é‡Šé£æ ¼ï¼Œå¹¶é¿å… â€œ è§£é‡Šå‹ â€ æ³¨é‡Š

 â€œ è§£é‡Šå‹ â€ æ³¨é‡Šå®šä¹‰ï¼š

```js
// è¿™é‡Œçš„ä»£ç ä¼šå…ˆåšè¿™ä»¶äº‹ï¼ˆâ€¦â€¦ï¼‰ç„¶ååšé‚£ä»¶äº‹ï¼ˆâ€¦â€¦ï¼‰

```

æ­£ç¡®çš„jsDocæ³¨é‡Šï¼šï¼ˆæœ¬è´¨ï¼šç›´æ¥è¯´å‡ºä»£ç çš„åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦è§£é‡Šæ¯è¡Œä»£ç åšäº†ä»€ä¹ˆï¼‰

```js
/**
 * è¿”å› x çš„ n æ¬¡å¹‚çš„å€¼ã€‚
 *
 * @param {number} x è¦æ”¹å˜çš„å€¼ã€‚
 * @param {number} n å¹‚æ•°ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªè‡ªç„¶æ•°ã€‚
 * @return {number} x çš„ n æ¬¡å¹‚çš„å€¼ã€‚
 */
function pow(x, n) {
  ...
}
```

###### æ‰©å±•ï¼š â€œ è‡ªæè¿°å‹ â€ ä»£ç 

```js
// å³å°†ä¸€éƒ¨åˆ†ä»£ç ç‹¬ç«‹å‡ºå»ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œåªå…³æ³¨æŸä¸ªå‡½æ•°åšäº†ä»€ä¹ˆï¼Œ
function showPrimes(n) {
  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;
    alert(i);
  }
}

function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if (n % i == 0) return false;
  }

  return true;
}
```

##### å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯å¦å­˜åœ¨

###### 1.inè¿ç®—ç¬¦

```js
let user = { name: "John", age: 30 };

alert( "age" in user ); // trueï¼Œuser.age å­˜åœ¨
alert( "blabla" in user ); // falseï¼Œuser.blabla ä¸å­˜åœ¨ã€‚
```

###### 2.ifåˆ¤æ–­

```js
let user = { name: "John", age: 30 };
if(user.name=== undefined)
```

##### å¯¹è±¡å±æ€§çš„å¾ªåº

â€œ æœ‰ç‰¹åˆ«çš„é¡ºåº â€ï¼š1.æ•´æ•°å±æ€§ä¼šè¢«è¿›è¡Œæ’åºï¼Œ2.å…¶ä»–å±æ€§åˆ™æŒ‰ç…§åˆ›å»ºçš„é¡ºåºæ˜¾ç¤ºã€‚

â€œæ•´æ•°å±æ€§â€æŒ‡çš„æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨ä¸åšä»»ä½•æ›´æ”¹çš„æƒ…å†µä¸‹ä¸ä¸€ä¸ªæ•´æ•°è¿›è¡Œç›¸äº’è½¬æ¢çš„å­—ç¬¦ä¸²ã€‚å¦‚ï¼šâ€œ49â€ã€â€œ41â€

ä½†æ˜¯ï¼Œâ€œ1.2â€ã€â€œ+49â€ æ˜¯ä¸è¡Œçš„ã€‚

æ‰€ä»¥ï¼Œå¦‚æœä¸æƒ³è¦æ•´æ•°å±æ€§çš„æ’åºï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ¯ä¸ªå±æ€§å‰é¢åŠ ä¸€ä¸ªâ€œ+â€ï¼Œæ¬ºéª—ç¨‹åºï¼Œè¾¾åˆ°ç†æƒ³é¢„æœŸã€‚

###### 1.åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º

```js
function isEmpty(obj) {
  for (let key in obj) {
    // å¦‚æœè¿›åˆ°å¾ªç¯é‡Œé¢ï¼Œè¯´æ˜æœ‰å±æ€§ã€‚
    return false;
  }
  return true;
}
```



##### åƒåœ¾å›æ”¶

###### 1.è§£å†³çš„é—®é¢˜ï¼šè¯†åˆ«å†…å­˜çš„æ­»åŒº

###### 2.åˆ¤å®šè§„åˆ™ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ä¸€äº›æŒ‡é’ˆé“¾ä»ä¸€ä¸ªå®šä¹‰ä¸ºæ´»çš„å¯¹è±¡åˆ°è¾¾ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ´»çš„ã€‚å…¶ä»–çš„éƒ½æ˜¯åƒåœ¾ã€‚

å³ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡è¢«æ ¹å¯¹è±¡æˆ–å¦ä¸€ä¸ªæ´»åŠ¨å¯¹è±¡æŒ‡å‘ï¼ˆæŒ‡å‘å…¶å®å°±æ˜¯æŸå¯¹è±¡çš„å±æ€§å¼•ç”¨äº†è¿™ä¸ªå¯¹è±¡ï¼‰ï¼Œåˆ™è¯¥å¯¹è±¡æ˜¯*æ´»åŠ¨çš„*

```js
// è¿™å°±æ˜¯ä¸€ä¸ªæ ¹å¯¹è±¡ä¸‹çš„æ´»åŠ¨å¯¹è±¡
let a = {
    name:"å¼ ä¸‰"
}
a = null
// é‚£ä¹ˆæ­¤æ—¶{name:"å¼ ä¸‰"}è¿™ä¸ªå¯¹è±¡å°±æ²¡æœ‰è¢«æ´»åŠ¨å¯¹è±¡æŒ‡å‘äº†ï¼Œå°±æˆäº†åƒåœ¾
```

##### å¯é€‰é“¾?.

###### 1.å®šä¹‰ï¼š

æ³¨æ„ï¼š?.  è¿™ä¸ªå«åšå¯é€‰é“¾ï¼Œå¹¶ä¸è¦ç†è§£ä¸º? å’Œ . åˆ†å¼€ç†è§£æ˜¯é”™çš„

```js
let user = {}; // user æ²¡æœ‰ address å±æ€§

alert( user?.address?.street ); // undefinedï¼ˆä¸æŠ¥é”™ï¼‰

```

###### 2.æ³¨æ„äº‹é¡¹

`?.`å‰çš„å˜é‡å¿…é¡»å·²å£°æ˜

ä¸è¦è¿‡åº¦ä½¿ç”¨å¯é€‰é“¾

###### 3.å…¶ä»–å˜ä½“: 

 ?.()   è°ƒç”¨æ–¹æ³•

```js
let userAdmin = {
  admin() {
    alert("I am admin");
  }
};

let userGuest = {};
userAdmin.admin?.(); // I am admin
userGuest.admin?.(); // å•¥éƒ½æ²¡å‘ç”Ÿï¼ˆæ²¡æœ‰è¿™æ ·çš„æ–¹æ³•ï¼‰
```

 ?.[]   è·å–å¯¹è±¡å±æ€§

```js
let key = "firstName";

let user1 = {
  firstName: "John"
};

let user2 = null;

alert( user1?.[key] ); // John
alert( user2?.[key] ); // undefined

```

##### Symbolä¸å¯è½¬æ¢æˆå…¶ä»–ç±»å‹ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²

```js
let a = Symbol("1")
alert(a)// è¿™é‡Œä¼šæŠ¥é”™ï¼Œalertä¼šå¼ºåˆ¶è½¬æ¢æˆå­—ç¬¦ä¸²è¾“å‡ºï¼Œä½†æ˜¯Symbolä¸å¯è½¬æ¢ï¼Œæ•…æŠ¥é”™
```

æ³¨æ„ï¼šalertä¼šæ‰“å°å­—ç¬¦ä¸²ï¼Œç»™å®ƒçš„å€¼ï¼Œä¼šå¼ºåˆ¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè½¬ä¸äº†å°±æŠ¥é”™

##### å­—ç¬¦ä¸²è°ƒç”¨æ–¹æ³•çš„è¿‡ç¨‹

æ³¨æ„ï¼šåŸå§‹ç±»å‹æœ¬èº«ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡,åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡å»å‚¨å­˜è¿™ä¸ªåŸå§‹ç±»å‹çš„å€¼

```js
let str = "Hello";

alert( str.toUpperCase() ); // HELLO

1. å­—ç¬¦ä¸² str æ˜¯ä¸€ä¸ªåŸå§‹å€¼ã€‚å› æ­¤ï¼Œåœ¨è®¿é—®å…¶å±æ€§æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²å­—é¢å€¼çš„ç‰¹æ®Šå¯¹è±¡ï¼Œå¹¶ä¸”å…·æœ‰å¯ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ toUpperCase()ã€‚
2. è¯¥æ–¹æ³•è¿è¡Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼ˆç”± alert æ˜¾ç¤ºï¼‰ã€‚
3. ç‰¹æ®Šå¯¹è±¡è¢«é”€æ¯ï¼Œåªç•™ä¸‹åŸå§‹å€¼ strã€‚
```

```js
let str = "Hello";

str.test = 5; // (*)

alert(str.test);
// undefinedï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰
// æŠ¥é”™ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰ã€‚
/*
ä¸ºä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹åœ¨ (*) é‚£ä¸€è¡Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼š

å½“è®¿é—® str çš„å±æ€§æ—¶ï¼Œä¸€ä¸ªâ€œå¯¹è±¡åŒ…è£…å™¨â€è¢«åˆ›å»ºäº†ã€‚
åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‘å…¶å†™å…¥å†…å®¹ä¼šæŠ¥é”™ã€‚
å¦åˆ™ï¼Œå°†ç»§ç»­æ‰§è¡Œå¸¦æœ‰å±æ€§çš„æ“ä½œï¼Œè¯¥å¯¹è±¡å°†è·å¾— test å±æ€§ï¼Œä½†æ˜¯æ­¤åï¼Œâ€œå¯¹è±¡åŒ…è£…å™¨â€å°†æ¶ˆå¤±ï¼Œå› æ­¤åœ¨æœ€åä¸€è¡Œï¼Œstr å¹¶æ²¡æœ‰è¯¥å±æ€§çš„è¸ªè¿¹ã€‚
*/
```

##### null/undefined æ²¡æœ‰ä»»ä½•æ–¹æ³•ï¼Œä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œä»–ä»¬æ˜¯ â€ æœ€åŸå§‹çš„ â€œ 

##### æ•°å­—è¡¨ç¤º

```js
1e3 === 1 * 1000// e3 è¡¨ç¤ºæœ‰3ä¸ª0
1e-3 === 1 / 1000 // e-3 è¡¨ç¤ºé™¤ä»¥3ä¸ª0
```

##### 0.1+0.2 !== 0.3

###### ç†è§£ï¼š

```js
ä»€ä¹ˆæ˜¯ 0.1ï¼Ÿ0.1 å°±æ˜¯ 1 é™¤ä»¥ 10ï¼Œ1/10ï¼Œå³ååˆ†ä¹‹ä¸€ã€‚åœ¨åè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ï¼Œè¿™æ ·çš„æ•°å­—è¡¨ç¤ºèµ·æ¥å¾ˆå®¹æ˜“ã€‚å°†å…¶ä¸ä¸‰åˆ†ä¹‹ä¸€è¿›è¡Œæ¯”è¾ƒï¼š1/3ã€‚ä¸‰åˆ†ä¹‹ä¸€å˜æˆäº†æ— é™å¾ªç¯å°æ•° 0.33333(3)ã€‚
// åŠ å…¥åè¿›åˆ¶ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œæ›´åŠ ä¾¿äºç†è§£
åœ¨äºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä¿è¯ä»¥ 2 çš„æ•´æ•°æ¬¡å¹‚ä½œä¸ºé™¤æ•°æ—¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œå…¶ä»–æ•°ä½œä¸ºé™¤æ•°æ—¶ï¼Œéƒ½ä¼šå‡ºç°æ— é™å°æ•°çš„æƒ…å†µ
ä½¿ç”¨äºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿæ— æ³• ç²¾ç¡® å­˜å‚¨ 0.1 æˆ– 0.2ï¼Œå°±åƒæ²¡æœ‰åŠæ³•å°†ä¸‰åˆ†ä¹‹ä¸€å­˜å‚¨ä¸ºåè¿›åˆ¶å°æ•°ä¸€æ ·ã€‚

0.1.toFixed(20)// 0.10000000000000000555
0.2.toFixed(20)// 0.20000000000000001110
0.3.toFixed(20)// 0.29999999999999998890
0.4.toFixed(20)// 0.40000000000000002220
0.5.toFixed(20)// 0.50000000000000000000// åªæœ‰åˆ†æ¯æ˜¯2çš„æ•´æ•°æ¬¡å¹‚æ—¶ï¼Œæ‰ä¼šå‡†ç¡®å­˜å‚¨
```

###### è§£å†³åŠæ³•ï¼š

æ³¨æ„ï¼š0.1å’Œ0.2éƒ½æ‰©å¤§åå€ï¼Œç¡®å®å¯ä»¥å‡†ç¡®è®¡ç®—ï¼Œé‚£0.28+0.14å‘¢ï¼Ÿæ‰©å¤§ä¸€ç™¾å€ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸ç­‰äº0.42

**æ‰€ä»¥ï¼Œå€æ•°æ‰©å¤§å¯ä»¥å‡å°è¯¯å·®ï¼Œä½†æ˜¯ä¸èƒ½æ¶ˆé™¤è¯¯å·®**

æ›´ä¼˜çš„è§£å†³åŠæ³•æ˜¯ï¼š**åŠæ—¶æ–©æ–­å°¾å·´**ã€‚è¯´å‡ºè¿™ç§è¯å°±è¡¨ç¤ºï¼Œjsæœ¬èº«è¯­è¨€çš„ç¼ºé™·å°±æ˜¯ä¸èƒ½è¡¨ç¤ºå°æ•°ï¼Œè¿™æ˜¯æ— æ³•æ¶ˆé™¤çš„ï¼Œåªèƒ½æƒ³åŠæ³•é¿å…ã€‚

##### 0 å’Œ -0

åœ¨å‚¨å­˜æ—¶ï¼Œè¿˜æœ‰ä¸€ä½ç¬¦å·ä½ï¼Œè¿™ç§åŒºåˆ«å¹¶ä¸æ˜æ˜¾ï¼Œå› ä¸ºè¿ç®—ç¬¦å°†å®ƒä»¬è§†ä¸ºç›¸åŒçš„å€¼ã€‚

##### æ³¨æ„ï¼šåœ¨æ‰€æœ‰æ•°å­—å‡½æ•°ä¸­ï¼ŒåŒ…æ‹¬ `isFinite`ï¼Œç©ºå­—ç¬¦ä¸²æˆ–ä»…æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²å‡è¢«è§†ä¸º `0`

##### ç”¨`Object.is` è¿›è¡Œæ¯”è¾ƒ

æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å†…å»ºæ–¹æ³• `Object.is`ï¼Œå®ƒç±»ä¼¼äº `===` ä¸€æ ·å¯¹å€¼è¿›è¡Œæ¯”è¾ƒï¼Œä½†å®ƒå¯¹äºä¸¤ç§è¾¹ç¼˜æƒ…å†µæ›´å¯é ï¼š

1. å®ƒé€‚ç”¨äº `NaN`ï¼š`Object.is(NaN, NaN) ===> true`ï¼Œè¿™æ˜¯ä»¶å¥½äº‹(æ­¤æ—¶NaNçš„å”¯ä¸€æ€§ä»¿ä½›æ¶ˆå¤±äº†)ã€‚
2. å€¼ `0` å’Œ `-0` æ˜¯ä¸åŒçš„ï¼š`Object.is(0,-0) === false`ï¼Œä»æŠ€æœ¯ä¸Šè®²è¿™æ˜¯å¯¹çš„ï¼Œå› ä¸ºåœ¨å†…éƒ¨ï¼Œæ•°å­—çš„ç¬¦å·ä½å¯èƒ½ä¼šä¸åŒï¼Œå³ä½¿å…¶ä»–æ‰€æœ‰ä½å‡ä¸ºé›¶ã€‚

åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œ`Object.is(a, b)` ä¸ `a === b` ç›¸åŒã€‚

è¿™ç§æ¯”è¾ƒæ–¹å¼ç»å¸¸è¢«ç”¨åœ¨ JavaScript è§„èŒƒä¸­ã€‚å½“å†…éƒ¨ç®—æ³•éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦å®Œå…¨ç›¸åŒæ—¶ï¼Œå®ƒä½¿ç”¨ `Object.is`ï¼ˆå†…éƒ¨ç§°ä¸º [SameValue](https://tc39.github.io/ecma262/#sec-samevalue)ï¼‰ã€‚

##### å–å›ºå®šåŒºåŸŸéšæœºæ•´æ•°æ•°çš„æ–¹æ³•

```js
function randomInteger(min, max){
    //åŠ ä¸€æ˜¯ä¸ºäº†ç¡®ä¿æ¯ä¸ªæ•´æ•°å–åˆ°çš„æ¦‚ç‡éƒ½æ˜¯ä¸€æ ·çš„   å› ä¸ºMath.random()æ˜¯0åˆ°1çš„éšæœºæ•°ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬1æ‰€ä»¥è¦åŠ ä¸€
    let rand = min + Math.random() * (max + 1 - min)
    //å‘ä¸‹å–æ•´
    return Math.floor(rand)
}
```

##### splice

å…è®¸è´Ÿå‘ç´¢å¼•

```js
let arr = [1, 2, 5];

// ä»ç´¢å¼• -1ï¼ˆå°¾ç«¯å‰ä¸€ä½ï¼‰
// åˆ é™¤ 0 ä¸ªå…ƒç´ ï¼Œ
// ç„¶åæ’å…¥ 3 å’Œ 4
arr.splice(-1, 0, 3, 4);

alert( arr ); // 1,2,3,4,5
// è´Ÿå‡ å°±æ˜¯å°¾ç«¯çš„å‰å‡ ä½ï¼Œå¾ˆå®¹æ˜“æ³¨æ„åˆ°ï¼Œspliceæ˜¯æ²¡æœ‰åŠæ³•ç›´æ¥å†æœ€åä¸€ä½ä¹‹åæ·»åŠ å…ƒç´ çš„
```

##### concat

å¦‚æœ**ç±»æ•°ç»„**å¯¹è±¡å…·æœ‰ `Symbol.isConcatSpreadable` å±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢« `concat` å½“ä½œä¸€ä¸ªæ•°ç»„æ¥å¤„ç†ï¼šæ­¤å¯¹è±¡ä¸­çš„å…ƒç´ å°†è¢«æ·»åŠ 

æ³¨ï¼šconcatä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œä¸ç®¡æ˜¯ä¸‹æ–¹çš„arræˆ–è€…arrayLikeï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„

```js
let arr = [1, 2];

let arrayLike = {
  0: "something",
  1: "else",
  [Symbol.isConcatSpreadable]: true,
  length: 2
};

alert( arr.concat(arrayLike) ); // 1,2,something,else
```

##### includeså¯ä»¥å¤„ç†NaN

```js
const arr = [NaN];
alert( arr.indexOf(NaN) ); // -1ï¼ˆé”™ï¼Œåº”è¯¥ä¸º 0ï¼‰
alert( arr.includes(NaN) );// trueï¼ˆæ­£ç¡®ï¼‰
// è¿™æ˜¯å› ä¸º includes æ˜¯åœ¨æ¯”è¾ƒæ™šçš„æ—¶å€™æ‰è¢«æ·»åŠ åˆ° JavaScript ä¸­çš„ï¼Œå¹¶ä¸”åœ¨å†…éƒ¨ä½¿ç”¨äº†æ›´æ–°äº†çš„æ¯”è¾ƒç®—æ³•ã€‚
```

##### sort

sorté»˜è®¤å°†æ•°ç»„ä¸­çš„å€¼å˜æˆå­—ç¬¦ä¸²ï¼Œç„¶åç”¨ä»–ä»¬çš„UTF-16 è¿›è¡Œæ¯”è¾ƒï¼Œä¾‹å¦‚ï¼š

```js
let arr = [ 1, 2, 15 ];

// è¯¥æ–¹æ³•é‡æ–°æ’åˆ— arr çš„å†…å®¹
arr.sort();

alert( arr );  // 1, 15, 2
// å› ä¸º "2" > "15" æ‰€ä»¥2ä¼šæ’åœ¨15åé¢
// æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜
arr.sort( (a, b)=> a - b ) 
// aã€bæ˜¯ä¸¤ä¸ªç›¸é‚»çš„é¡¹
// å›è°ƒå‡½æ•°è¿”å›å€¼ä¸ºæ­£æ•°æ—¶ï¼Œaã€bäº’æ¢ã€‚ä¸º0æ—¶ï¼Œaã€bä¸åŠ¨ã€‚ä¸ºè´Ÿæ•°æ—¶ï¼Œaã€bä¸åŠ¨
```

##### localeCompare

æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¯é…åˆä¸Šé¢çš„sortä½¿ç”¨

```js
let countries = ['Ã–sterreich', 'Andorra', 'Vietnam']; 
countries.sort( (a, b) => a.localeCompare(b)
// å‰æï¼Œå­—ç¬¦ä¸²å¯¹è±¡ä¸‹é¢æ‰æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°
```

##### å¯è¿­ä»£çš„å¯¹è±¡çš„å…³é”®

1. Symbol.iteratorï¼šè¿­ä»£å™¨ï¼Œ

2. next()æ–¹æ³•

```js
// å†™æ³•ä¸€     
let obj = {
        from: 1,
        to: 5,
        // è¿­ä»£å™¨ 
        [Symbol.iterator]() {
          this.current = this.from;
          return this;
        },
		// ä¸‹ä¸€æ­¥	
        // next() æ–¹æ³•è¿”å›çš„ç»“æœçš„æ ¼å¼å¿…é¡»æ˜¯ {done: Boolean, value: any}ï¼Œå½“ done=true æ—¶ï¼Œè¡¨ç¤ºå¾ªç¯ç»“æŸï¼Œå¦åˆ™ value æ˜¯ä¸‹ä¸€ä¸ªå€¼
        next() {
          if (this.current <= this.to) {
            return { done: false, value: this.current++ };
          } else {
            return { done: true };
          }
        },
      };

      for (let key of obj) {
        console.log(key);// 1,2,3,4,5
      }
// å†™æ³•äºŒï¼ˆæ¨èâ­ï¼‰
let range = {
    from:1,
    to:5,
}
// ç»™rangeåŠ ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨å¯ä»¥è®©å½“å‰å¯¹è±¡å˜æˆä¸€ä¸ªå¯æšä¸¾çš„å¯¹è±¡
range[Symbol.iterator] = function(){
    return {
        current: this.from,
        last: this.to,
        next:function(){
            if(this.current <= this.last){
                return {
                    done:false,
                	value:this.current++,
                }
            }else{
                return {
                    done:true
                }
            }
        }
    }
}

      for (let key of range) {
        console.log(key);// 1,2,3,4,5
      }
```

##### å…³äºMapä½ ä¸çŸ¥é“çš„äº‹æƒ…

###### 1.mapè·å–æ•°æ®çš„ä¸¤ç§æ–¹å¼

```js

// ç¬¬ä¸€ç§
map.get(key)
// ç¬¬äºŒç§,è¿™æ ·ä¼šå°†è¯¥mapè§†ä¸ºJavaScriptçš„plain objectï¼Œå› æ­¤å®ƒæš—å«äº†æ‰€æœ‰ç›¸åº”çš„é™åˆ¶ï¼ˆä»…æ”¯æŒstring/symbolï¼‰è€Œä¸”ï¼Œmap[key]è·å–ä¸åˆ°æ­£å¸¸è®¾ç½®çš„mapå…ƒç´ ï¼Œä¾‹å­å¦‚ä¸‹ï¼š
map[key]
    let a = new Map([
        ["name", "å¼ ä¸‰"],
        [21, "æå››"],
      ]);

      console.log(a.get("name"));
      let key = "name";
      a[key] = 2;
      console.log(a[key]);
// æ­¤æ—¶mapæ•°æ®ç»“æ„å¦‚ä¸‹ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°ï¼Œsetè®¾ç½®çš„å…ƒç´ å’Œç›´æ¥map[key]è®¾ç½®çš„å…ƒç´ æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸å¯èƒ½äº’é€šæ‹¿å–ï¼ˆäº’é€šæ‹¿å–å®šä¹‰ï¼šsetè®¾ç½®çš„å…ƒç´ ï¼Œmap[key]è·å–ä¸åˆ°ï¼‰
```

![image-20220926105518658](https://github.com/yinhongGITHUB/ReadingNotes/blob/main/images/ModernJSTutorial/image-20220926105518658.png)

###### 2.Mapçš„keyå¯ä»¥æ˜¯å¯¹è±¡ä»¥åŠä»»æ„ç±»å‹ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œ`Map` æ˜¯æ€ä¹ˆæ¯”è¾ƒé”®çš„ï¼Ÿ

`Map` ä½¿ç”¨ [SameValueZero](https://tc39.github.io/ecma262/#sec-samevaluezero) ç®—æ³•æ¥æ¯”è¾ƒé”®æ˜¯å¦ç›¸ç­‰ã€‚å®ƒå’Œä¸¥æ ¼ç­‰äº `===` å·®ä¸å¤šï¼Œä½†åŒºåˆ«æ˜¯ `NaN` è¢«çœ‹æˆæ˜¯ç­‰äº `NaN`ã€‚æ‰€ä»¥ `NaN` ä¹Ÿå¯ä»¥è¢«ç”¨ä½œé”®ã€‚

è¿™ä¸ªç®—æ³•ä¸èƒ½è¢«æ”¹å˜æˆ–è€…è‡ªå®šä¹‰ã€‚

###### 3.**é“¾å¼è°ƒç”¨**

æ¯ä¸€æ¬¡ `map.set` è°ƒç”¨éƒ½ä¼šè¿”å› map æœ¬èº«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œâ€œé“¾å¼â€è°ƒç”¨ï¼š

```javascript
map.set('1', 'str1')
  .set(1, 'num1')
  .set(true, 'bool1');
```

###### 3.å…³äºmapå¦‚ä½•è¿­ä»£

```js
map.keys() â€”â€” éå†å¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰é”®çš„å¯è¿­ä»£å¯¹è±¡ï¼Œ
map.values() â€”â€” éå†å¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å€¼çš„å¯è¿­ä»£å¯¹è±¡ï¼Œ
map.entries() â€”â€” éå†å¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å®ä½“ [key, value] çš„å¯è¿­ä»£å¯¹è±¡ï¼Œfor..of åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚
```

æ³¨æ„ï¼šè¿­ä»£çš„é¡ºåºä¸æ’å…¥å€¼çš„é¡ºåºç›¸åŒ

##### setæ³¨æ„äº‹é¡¹

setæ˜¯æ²¡æœ‰ â€œ é”® â€ çš„ï¼Œåªæœ‰å€¼ï¼Œå¹¶ä¸”ï¼Œæ¯ä¸ªå€¼åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚

##### Array.fromæ³¨æ„äº‹é¡¹

```js
 var obj = new Object({
        name: "web_sea",
        age: 18,
        isRich: [false, true],
      });
      //å°†å¯¹è±¡è½¬æˆæ•°ç»„
      var objs = [];
      for (var i in obj) {
        objs.push(obj[i]);
      }

      var arrObj = Array.from(objs);
      console.log("objs:", objs); //objs: [ 'web_sea', 18, [false,true] ]
      console.log("arrObj:", arrObj); //arrObj:[ 'web_sea', 18, [false,true] ]
      //æˆ‘ä»¬è¦æ”¹å˜objså­å¯¹è±¡çš„å€¼ï¼›
      objs[2][0] = "å“ˆå“ˆå“ˆå“ˆ";
      //æ”¹å˜ç¬¬ä¸€å±‚æ•°æ®çš„å€¼
      objs[1] = 50;
      console.log("æ”¹å˜objsåobjs:", objs); //[ 'web_sea', 50, [ true, true ] ]
      console.log("æ”¹å˜objsåarrObj:", arrObj); //arrObj:[ 'web_sea', 18, [ true, true ] ]
```

ç»“è®ºï¼šArray.fromçš„å­å¯¹è±¡æ˜¯æµ…æ‹·è´ï¼Œæ‰€ä»¥ï¼ŒArray.fromæ˜¯æµ…æ‹·è´ï¼Œä½†æ˜¯Array.fromçš„ç¬¬ä¸€å±‚è¿˜æ˜¯æ·±æ‹·è´çš„ï¼Œè¿™ç‚¹è¦æ³¨æ„å“¦

##### WeakMapæ³¨æ„äº‹é¡¹

1. ###### WeakMapçš„key**åªèƒ½æ˜¯**å¯¹è±¡ï¼Œè€Œä¸”è¿™ä¸ªkeyå·²ç»ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œä½†æ˜¯mapçš„keyï¼Œåªè¦å­˜äº†ï¼Œå°±ä¸ä¼šä¸¢å¤±ã€‚å¦‚ä¸‹ï¼š

```js
// 1. weakMapçš„keyåªèƒ½æ˜¯å¯¹è±¡
let weakMap = new WeakMap();

let obj = {};

weakMap.set(obj, "ok"); // æ­£å¸¸å·¥ä½œï¼ˆä»¥å¯¹è±¡ä½œä¸ºé”®ï¼‰

// ä¸èƒ½ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºé”®
weakMap.set("test", "Whoops"); // Errorï¼Œå› ä¸º "test" ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡
let john = { name: "John" };

// 2. weakMapçš„keyå°±ç®—å­˜å‚¨äº†å€¼ï¼Œä¹Ÿå·²ç»ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶å†…å­˜
let weakMap = new WeakMap();
weakMap.set(john, "...");

john = null; // è¦†ç›–å¼•ç”¨

// john è¢«ä»å†…å­˜ä¸­åˆ é™¤äº†ï¼
// æ³¨æ„ï¼š å¦‚æœ john æ¶ˆå¤±ï¼Œ"..." å°†ä¼šè¢«è‡ªåŠ¨æ¸…é™¤
```

2. ###### WeakMapæœ‰å¦‚ä¸‹æ–¹æ³•ï¼Œæš‚ä¸æ”¯æŒè·å–WeakMapçš„æ‰€æœ‰é”®/å€¼çš„æ–¹æ³•

```js
weakMap.get(key)
weakMap.set(key, value)
weakMap.delete(key)
weakMap.has(key)
```

3. ###### ä½¿ç”¨åœºæ™¯

ä½¿ç”¨åœºæ™¯ä¸€ï¼š

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ç”¨äºå¤„ç†ç”¨æˆ·è®¿é—®è®¡æ•°çš„ä»£ç ã€‚æ”¶é›†åˆ°çš„ä¿¡æ¯è¢«å­˜å‚¨åœ¨ map ä¸­ï¼šä¸€ä¸ªç”¨æˆ·å¯¹è±¡ä½œä¸ºé”®ï¼Œå…¶è®¿é—®æ¬¡æ•°ä¸ºå€¼ã€‚å½“ä¸€ä¸ªç”¨æˆ·ç¦»å¼€æ—¶ï¼ˆè¯¥ç”¨æˆ·å¯¹è±¡å°†è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼‰ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¸å†éœ€è¦ä»–çš„è®¿é—®æ¬¡æ•°äº†ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ `Map` çš„è®¡æ•°å‡½æ•°çš„ä¾‹å­ï¼š

```js
// ğŸ“ visitsCount.js
let visitsCountMap = new Map(); // map: user => visits count

// é€’å¢ç”¨æˆ·æ¥è®¿æ¬¡æ•°
function countUser(user) {
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
}
// ğŸ“ main.js
let john = { name: "John" };

countUser(john); // count his visits

// ä¸ä¹…ä¹‹åï¼Œjohn ç¦»å¼€äº†
john = null;
```

ç°åœ¨ï¼Œ`john` è¿™ä¸ªå¯¹è±¡åº”è¯¥è¢«åƒåœ¾å›æ”¶ï¼Œä½†å®ƒä»åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºå®ƒæ˜¯ `visitsCountMap` ä¸­çš„ä¸€ä¸ªé”®ã€‚

å½“æˆ‘ä»¬ç§»é™¤ç”¨æˆ·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ¸…ç† `visitsCountMap`ï¼Œå¦åˆ™å®ƒå°†åœ¨å†…å­˜ä¸­æ— é™å¢å¤§ã€‚åœ¨å¤æ‚çš„æ¶æ„ä¸­ï¼Œè¿™ç§æ¸…ç†ä¼šæˆä¸ºä¸€é¡¹ç¹é‡çš„ä»»åŠ¡ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ `WeakMap` æ¥é¿å…è¿™æ ·çš„é—®é¢˜ï¼š

```js
// ğŸ“ visitsCount.js
let visitsCountMap = new WeakMap(); // weakmap: user => visits count

// é€’å¢ç”¨æˆ·æ¥è®¿æ¬¡æ•°
function countUser(user) {
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
}
```

æ€»ç»“ï¼šWeakMapå’ŒMapçš„åŒºåˆ«å°±æ˜¯ï¼ŒWeakMapä¸éœ€è¦æ‰‹åŠ¨å»æ¸…æ¥šï¼Œé¿å…äº†å¾ˆå¤šéº»çƒ¦ï¼Œå½“johnç¦»å¼€æ—¶ï¼Œåˆ©ç”¨åƒåœ¾æ¸…é™¤æœºåˆ¶ï¼Œè‡ªåŠ¨æ¸…æ¥šäº†è¯¥æ¡æ•°æ®ã€‚

##### WeakSetæ³¨æ„äº‹é¡¹

WeakSetè·ŸWeakMapçš„ç‰¹æ€§å·®ä¸å¤šï¼Œä¹Ÿæ˜¯åªèƒ½æ·»åŠ å¯¹è±¡

##### WeakMap/WeakSetå¤§æ€»ç»“

`WeakMap/WeakSet` å®Œæˆå…¶ä¸»è¦å·¥ä½œ â€”â€” ä¸ºåœ¨å…¶å®ƒåœ°æ–¹å­˜å‚¨/ç®¡ç†çš„å¯¹è±¡æ•°æ®æä¾›â€œé¢å¤–â€å­˜å‚¨ã€‚å³é¢å¤–å­˜å‚¨çš„æ•°æ®ä¼šéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ã€‚

`WeakMap` æ˜¯ç±»ä¼¼äº `Map` çš„é›†åˆï¼Œå®ƒä»…å…è®¸å¯¹è±¡ä½œä¸ºé”®ï¼Œå¹¶ä¸”ä¸€æ—¦é€šè¿‡å…¶ä»–æ–¹å¼æ— æ³•è®¿é—®è¿™äº›å¯¹è±¡ï¼Œåƒåœ¾å›æ”¶ä¾¿ä¼šå°†è¿™äº›å¯¹è±¡ä¸å…¶å…³è”å€¼ä¸€åŒåˆ é™¤ã€‚

`WeakSet` æ˜¯ç±»ä¼¼äº `Set` çš„é›†åˆï¼Œå®ƒä»…å­˜å‚¨å¯¹è±¡ï¼Œå¹¶ä¸”ä¸€æ—¦é€šè¿‡å…¶ä»–æ–¹å¼æ— æ³•è®¿é—®è¿™äº›å¯¹è±¡ï¼Œåƒåœ¾å›æ”¶ä¾¿ä¼šå°†è¿™äº›å¯¹è±¡åˆ é™¤ã€‚

#####  å¯¹è±¡ç»“æ„èµ‹å€¼æ—¶æ³¨æ„ç‚¹

###### 1.å½“è§£æ„æ—¶å’Œletä¸åœ¨ä¸€è¡Œæ—¶ï¼Œé˜²æ­¢è¢«å½“æˆä»£ç å—è§£æ

```js
let title, width, height;

// è¿™ä¸€è¡Œå‘ç”Ÿäº†é”™è¯¯
{title, width, height} = {title: "Menu", width: 200, height: 100};
// æŠ¥é”™åŸå› ï¼š
// jsæŠŠ â€œ ä¸»ä»£ç æµ â€ çš„{}å½“ä½œä¸€ä¸ªä»£ç å—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç»“æ„èµ‹å€¼è¯­å¥ï¼Œå°±ä¼šæŠ¥é”™
// è§£å†³åŠæ³•å¦‚ä¸‹ï¼šç”¨æ‹¬å·æ‹¬èµ·æ¥å°±å¯ä»¥äº†
({title, width, height} = {title: "Menu", width: 200, height: 100});
```

###### 2.è§£æ„èµ‹å€¼å†å‡½æ•°å‚æ•°ä¸Šçš„å¦™ç”¨

```js
// è¿™æ ·åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œé¦–å…ˆå‚æ•°å¯¹è±¡æˆäº†éå¿…å¡«é¡¹ï¼Œå½“æ‰€æœ‰å‚æ•°éƒ½ç”¨é»˜è®¤å€¼æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è€Œä¸ç”¨ä¼ å…¥ç©ºå¯¹è±¡
// ç„¶åä»ç©ºå¯¹è±¡ä¸Šé¢è¿›è¡Œè§£æ„èµ‹å€¼çš„å±æ€§éƒ½ç»™äºˆäº†é»˜è®¤å€¼
function showMenu({ title = "Menu", width = 100, height = 200 } = {}) {
  alert( `${title} ${width} ${height}` );
}

showMenu();
```

##### åŸºå‡†æµ‹è¯•çš„å®šä¹‰

è¿™ç§æ€§èƒ½æµ‹é‡é€šå¸¸ç§°ä¸ºâ€œåŸºå‡†æµ‹è¯•ï¼ˆbenchmarkï¼‰â€ã€‚

æ¯”å¦‚è®¡ç®—ä¸¤ä¸ªåŒæ ·åŠŸèƒ½çš„å‡½æ•°å“ªä¸ªæ›´å¿«

##### JSON.stringifyçš„ä¸‰ä¸ªå‚æ•°

ç¬¬ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦è½¬ç¼–ç çš„å€¼

ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°æˆ–ä¸€ä¸ªæ•°ç»„ï¼Œä¸¤ä¸ªå‚æ•°ï¼Œ(key,value)=>{} keyå°±æ˜¯å¯¹è±¡çš„keyï¼Œvalueå°±æ˜¯å¯¹è±¡çš„valueï¼Œå¯ä»¥è®¾ç½®å“ªäº›å±æ€§è¢«è½¬åŒ–æˆJSONå­—ç¬¦ä¸²ã€‚æ•°ç»„çš„è¯å°±æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼ŒåŒ…æ‹¬å“ªäº›å±æ€§è¢«è½¬åŒ–æˆJSONå­—ç¬¦ä¸²çš„keyã€‚

ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ ¼å¼åŒ–ç©ºæ ¼çš„æ•°é‡ï¼ˆå³JSONå­—ç¬¦ä¸²ä¼šæ¢è¡Œï¼Œæ¯è¡Œå‰é¢æœ‰å‡ ä¸ªç©ºæ ¼å‘¢ï¼Ÿå°±æ˜¯è¿™é‡Œè®¾ç½®çš„ï¼‰

æ³¨æ„ï¼šè·ŸJSON.parseä¸åŒï¼Œç¬¬äºŒä¸ªå‚æ•°å‡½æ•°ï¼Œå°±æ˜¯è®¾ç½®å“ªäº›å±æ€§è¿›è¿”å›ç»“æœçš„ï¼Œæ‰€ä»¥ç›´æ¥åˆ¤æ–­å“ªäº›ç†Ÿæ‚‰å¯ä»¥è¿›ç»“æœã€‚

```js
let meetup = {
      title: "Conference",
      participants: [{ name: "John" }, { name: "Alice" }],
    };

console.log(
  JSON.stringify(meetup, function replacer(key, value) {
     return key == "title" ? undefined : value;
  })
); 
```



##### JSON.parseçš„ä¸¤ä¸ªå‚æ•°

ç¬¬ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦è½¬ç¼–ç çš„å€¼ã€‚

ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸€ä¸ªå‡½æ•°,ä¸¤ä¸ªå‚æ•°ï¼Œ(key,value)=>{} keyå°±æ˜¯å¯¹è±¡çš„keyï¼Œvalueå°±æ˜¯å¯¹è±¡çš„valueï¼Œå¯ä»¥è®¾ç½®å“ªäº›å±æ€§è¿”å›ä»€ä¹ˆå“ªäº›ä¸è¿”å›ã€‚

æ³¨æ„ï¼šå‡½æ•°å¿…é¡»æœ‰  return value;ä¸ç„¶ä¼šæ˜¯undefinedã€‚

```js
     let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

      let meetup = JSON.parse(str, function (key, value) {
        if (key == "date") return undefined;
        return value;
      });

      console.log(meetup);
```























